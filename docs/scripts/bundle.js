!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";e.exports='\n<button id="close">Close</button>\n<h3>三国志大戦 解任ブックマークレット</h3>\n<button id="copy">選択した武将をコピー</button>\n<a href="https://3594t-touen.jp/recruitments/new" target="_blank">解任新規作成へ</a><small>(三国志大戦 桃園 に遷移します)</small>\n<div id="main">\n</div>\n'},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=n(0);e.exports=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.createElement("iframe");n.style.position="absolute",n.style.top="10%",n.style.right="10%",n.style.width="80%",n.style.height="80%",n.style.backgroundColor="white",n.style.zIndex=100,t.body.appendChild(n),this.iframe=n,this.results=[],this._document=this.iframe.contentWindow.document,this._document.body.innerHTML=a,this._setupEvents()}return r(e,[{key:"_setupEvents",value:function(){var e=this;this._document.getElementById("close").addEventListener("click",function(){e.hide()}),this._document.getElementById("copy").addEventListener("click",function(){e._copy()})}},{key:"show",value:function(){this.iframe.style.display="block"}},{key:"hide",value:function(){this.iframe.style.display="none"}},{key:"_copy",value:function(){var e=this,t=this._document.createElement("div");this.results.filter(function(e){return e.selected}).forEach(function(n){var r=e._document.createElement("div");r.innerHTML=e._createCardInfoHtml(n),t.appendChild(r)});var n=this._document.createElement("div");n.innerHTML='<br /><br />この投稿は <a href="">三国志大戦 解任ブックマークレット</a> により作成しています。',t.appendChild(n),this._document.body.appendChild(t),this._document.getSelection().selectAllChildren(t),this._document.execCommand("copy"),this._document.body.removeChild(t)}},{key:"update",value:function(e,t){var n=this;this.results=[],e.forEach(function(e){var r=t.searchByCardIndex(e),a=r.card,i=r.general;a&&i&&n.results.push({selected:!0,card:a,general:i})}),this._updateSelectList()}},{key:"_updateSelectList",value:function(){var e=this,t=this._document.getElementById("main");!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(t),this.results.forEach(function(n){var r=e._document.createElement("div"),a=e._document.createElement("input");a.setAttribute("type","checkbox"),a.checked=n.selected,a.addEventListener("click",function(){n.selected=a.checked});var i=e._document.createElement("span");i.innerHTML=e._createCardInfoHtml(n),r.appendChild(a),r.appendChild(i),t.appendChild(r)})}},{key:"_createCardInfoHtml",value:function(e){var t=e.card,n=e.general,r=t.genSubs.map(function(e){return e[0]}).join("");return t.number+'\n      <a href="'+n.url+'" target="_blank">第'+n.version+"弾 "+n.rarity+n.name+"</a>\n      "+t.genMain+" "+r}}]),e}()},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e.exports=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseData=t,this.cardData=n}return r(e,[{key:"searchByCardIndex",value:function(e){var t=void 0,n=void 0;return n=(t=null!=e?this.cardData[parseInt(e)]:null)?this.baseData.GENERAL[parseInt(t.idx)]:null,{card:this._createLabeledCard(t),general:this._createLabeledGeneral(n)}}},{key:"_createLabeledCard",value:function(e){var t=this;if(!e)return null;var n=this.baseData.GEN_MAIN.filter(function(t){return t.key===e.gen_main}).map(function(e){return e.name_short})[0],r=[e.gen_sub0,e.gen_sub1,e.gen_sub2].filter(function(e){return""!==e}).map(function(e){return parseInt(e)}).map(function(e){return t.baseData.GEN_SUB[e].name_short});return{number:e.number,genMain:n,genSubs:r}}},{key:"_createLabeledGeneral",value:function(e){if(!e)return null;var t=this.baseData.PERSONAL[parseInt(e.personal)],n=e.major_version,r="Ex"===this.baseData.VER_TYPE[parseInt(e.ver_type)].name?"EX":e.add_version,a="0"===r?n:n+"-"+r,i="https://3594t.net/datalist/?v=GENERAL&amp;s=POPUP_GENERAL&amp;c="+e.code;return{name:t.name,rarity:e.rarity,version:a,url:i}}}]),e}()},function(e,t,n){"use strict";var r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":a(window))&&(r=window)}e.exports=r},function(e,t,n){"use strict";(function(e){var t=n(2),r=new(n(1))(document),a=function(){if(r.show(),e.member_card_fire_date&&e.member_data&&e.member_data.CARD&&e.base_data){var n=new t(e.base_data,e.member_data.CARD),a=window.member_card_fire_date.map(function(e){return e.index});r.update(a,n)}else e.alert("データを読み込み中または未ログイン、あるいはデータリストのページではありません。")};e.VsD8NEfx=a,a()}).call(this,n(3))}]);